# Задача

На входе есть большой текстовый файл, где каждая строка имеет вид Number. String

Например:
```text
415. Apple
30432. Something something something
1. Apple
32. Cherry is the best
2. Banana is yellow
```

   Обе части могут в пределах файла повторяться. Необходимо получить на выходе другой файл, где
   все строки отсортированы. Критерий сортировки: сначала сравнивается часть String, если она
   совпадает, тогда Number.
   Т.е. в примере выше должно получиться:
```text
1. Apple
415. Apple
2. Banana is yellow
32. Cherry is the best
30432. Something something something
```

Требуется написать две программы:
1. Утилита для создания тестового файла заданного размера. Результатом работы должен быть
   текстовый файл описанного выше вида. Должно быть какое-то количество строк с одинаковой
   частью String.
2. Собственно сортировщик. Важный момент, файл может быть очень большой. Для тестирования
   будет использоваться размер ~100Gb.
   При оценке выполненного задания мы будем в первую очередь смотреть на результат
   (корректность генерации/сортировки и время работы), во вторую на то, как кандидат пишет код.
   Язык программирования: C#.

# Нефункциональные требования

Во время проверки мы обращаем внимание на быстродействие решения, качество написания кода и, в целом, время выполнения.

Как ориентир по времени - 10Гб файл сортируется около 9 минут (кстати, это не самое быстрое решение), а 1Гб файл сортируется в рамках минуты (самый быстрый результат - 26 секунд). Дополнительный ориентир - при сортировке 1Гб используется 2-2,5 Гб памяти.


# Детали реализации
- Максимальный размер памяти задается 
- Текст может быть разделен различными разделителями. Вынесено в настройки запуска.
- Реализация IFileParser для попытки найти самый быстрый парсер
- Есть проблема чтения последней строки (может не быть последнего разделителя). Не во всех алгоритмах реализована 

## Алгоритм
- Основной алгоритм итерационно зачитывает кусок больного файла в буфер заданного размера
- Указанный FileParser парсит буфер построчно и заносит в индекс {text,list<number>}
- Индекс сортируется по ключу (text), далее по number
- Сортированные данные пишутся в файл sorted_{iteration}.txt
- После записи все кусков алгоритм попарно берет файлы и мержит в следующий файл
- Мерж идет итеративно, пока не останется один файл

## Производительность
- При задании размера в который влезет весь файл (1Gb) сортировка происходит 29 сек, Макс объем памяти 1.5Gb
- 10Gb сортируется 7.5 минут

## What Next
- завернуть в web service
- конфигурирование (готово)
- Чтение данных из различных источников (файл, S3, etc)
- Возобновление процесса после падения, ошибки
- Распараллеливание работы на несколько workers
- Progress (частично есть)